#+TITLE: MATLAB on TRUBA-HPC: Beginner's Guide
#+AUTHOR: sbilmis
#+LANGUAGE: en
#+OPTIONS: toc:t num:t ^:nil
#+STARTUP: showall

* 1. Introduction
This document describes the configuration and usage of MATLAB on the **TRUBA ** infrastructure. It covers:
- **License usage** policies.
- **Interactive execution** (working directly on the cluster).
- **Batch job submission** via the Slurm scheduler.

This guide is intended for all academic users of TRUBA, from those running simple scripts to those scaling up complex parallel simulations.



** 1.1 Why use TRUBA for MATLAB?
- **Speed:** Run heavy simulations faster using high-end CPUs.
- **Memory:** Handle much larger datasets than a standard laptop can manage.
- **Parallel Computing:** Run multiple MATLAB "workers" simultaneously to solve problems in a fraction of the time.

** 1.2 Tested Environment
*Note:* This documentation was validated under the following environment. Changes in MATLAB versions or Slurm settings may require minor adjustments.

| Component           | Version / Value              |
|---------------------+------------------------------|
| Cluster             | TRUBA (arf and cuda)         |
| Partitions Tested   | debug, orfoz, barbun-cuda    |
| MATLAB              | R2025b                       |
| License Model       | Network Academic (MathWorks) |
| Slurm               | 23.02.5-1                    |
| OS                  | Rocky Linux 9                |
| Test Date           | 2026-02-18                   |

** 1.3 Prerequisites
Ensure you have these three requirements ready before proceeding:
1. **Active TRUBA Account:** A valid username and password.
2. **VPN Connection:** **OpenVPN** must be active to access the cluster.
3. **Academic License:** Only academic MATLAB licenses may be used to execute jobs on TRUBA.

** 1.4 Licensing and Policy (Academic Use Only)
#+BEGIN_QUOTE
**Important:** TRUBA provides MATLAB under a sponsored *Network Academic* license. Only academic MATLAB usage is permitted on TRUBA compute resources.
#+END_QUOTE

*** What this means in practice:
- **Running on TRUBA (Open OnDemand):** Licensing is handled automatically on the cluster side.
- **Remote Submission (From Local PC):** This is allowed **only** if the MATLAB installation on your local computer is also covered by an **academic license**. Remote execution from commercial or trial licenses may be blocked.

#+BEGIN_TIP
If you are unsure about your local license type, contact your institutionâ€™s MATLAB license administrator or type =license= in your MATLAB command window.
#+END_TIP


* 1. Introduction
This document helps you move your MATLAB calculations from your own computer to the powerful **TRUBA High-Performance Computing (HPC)** cluster.

** Why use TRUBA for MATLAB?
- **Speed:** Run heavy simulations faster using high-end CPUs.
- **Memory:** Handle much larger datasets than a standard laptop can manage.
- **Parallel Computing:** Run multiple MATLAB "workers" at once to solve problems in a fraction of the time.



** 1.1 Tested Environment
*Note to users:* This guide was verified with the setup below. If you are using a much older version of MATLAB, some menus might look slightly different.

| Component           | Version / Value              |
|---------------------+------------------------------|
| Cluster Name        | TRUBA (arf and cuda)         |
| MATLAB Version      | R2025b                       |
| License Model       | Network Academic             |
| Scheduler           | Slurm 23.02.5-1              |
| Last Tested         | 2026-02-18                   |

** 1.2 Prerequisites
Before you begin, ensure you have these three requirements ready. Without them, you will not be able to connect to the cluster.

1. **TRUBA Account:** You must have an active username and password provided by TRUBA.
2. **VPN Connection:** You must be connected to the **TRUBA OpenVPN**. The cluster is private and not visible to the open internet.
3. **Academic License:** TRUBA is for academic research only. 

** 1.3 Licensing and Policy (Academic Use Only)
#+BEGIN_IMPORTANT
**Important:** Only *academic* MATLAB usage is permitted on TRUBA compute resources. 
#+END_IMPORTANT

*** What this means in practice:
- **Running on TRUBA (Open OnDemand):** The license is handled automatically by the cluster. You don't need to do anything.
- **Running on your Local Desktop:** If you are sending jobs from your personal laptop to TRUBA, your laptop's MATLAB must be an **Academic** license (usually provided by your university). 

#+BEGIN_TIP
*Unsure about your license?* Open MATLAB on your computer, type =license= in the Command Window, or check with your university's IT department.
#+END_TIP
